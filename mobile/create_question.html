<!DOCTYPE html>
<html xml:lang="en" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<title>WTF is this</title>
	<link rel="stylesheet" href="../style/mobile.css" type="text/css" />
	<meta name="viewport" content="user-scalable=no, width=device_width" />
	
	<script type="text/javascript" src="../js/jquery-1.5.min.js"></script>
	<script type="text/javascript" src="../js/jquery.validate.js"></script>
	<script type="text/javascript" src="../js/jquery.NobleCount.js"></script>
	<script type="text/javascript" src="../js/jquery.throbber.min.js"></script>
	<script type="text/javascript" >
		$(document).ready(function() {
			var header_max = 50;
			var name_max = 50;
			var text_max = 340;
			$("#createQuestion").validate({
				rules: {
					headerInput: {
						required: true,
						minlength: 2,
						maxlength: header_max
					},
					nameInput: {
						required: false,
						minlength: 2,
						maxlength: name_max
					},
					textInput: {
						required: true,
						minlength: 2,
						maxlength: text_max
					},
					imageUpload: {
						required: true,
						accept: "png|jpe?g|gif"
					}
				},
				messages: {
					headerInput: {
						required: "Du har glömt att fylla i rubrik",
						minlength: jQuery.format("Minst {0} tecken!"),
						maxlength: jQuery.format("Högst {0} tecken!")
					},
					nameInput: {
						minlength: jQuery.format("Minst {0} tecken!"),
						maxlength: jQuery.format("Högst {0} tecken!")
					},
					textInput: {
						required: "Du har glömt att fylla i",
						minlength: jQuery.format("Minst {0} tecken!"),
						maxlength: jQuery.format("Högst {0} tecken!")
					}
			   }
			});
			
			$("#headerInput").NobleCount("#headerInputCount", {max_chars:header_max});
			$("#textInput").NobleCount("#textInputCount", {max_chars:text_max});
				
			$("#upload_button").throbber({
					image: "images/ajax-loader.gif"
			});
			  
		});
	</script>
</head>
<body>
	<div id="wrapper">
		<header>
			<h1>WTF is this</h1>
			<nav>
				<ul id="tabnav"> 
					<li><a href="#">Senaste</a></li> 
					<li><a href="#">Populäraste</a></li> 
					<li><a href="#">I din närhet</a></li> 
					<li class="active"><a href="#">Skapa en fråga</a></li> 
				</ul> 	
			</nav>
		</header>
	
		<div id="content">				
			<form id="createQuestion" action="../api/index.php?resource=questions" method="post" enctype="multipart/form-data">	
				<h2>Skapa en fråga</h2>						
				<fieldset>
					<legend>Skapa en fråga</legend>
					<ul>
						<li>
							<label for="headerInput">Rubrik - <span><span id="headerInputCount"></span> tecken kvar</span></label>
							<input type="text" name="headerInput" id="headerInput" placeholder="Din rubrik" required="required" autofocus="autofocus" />			
						</li>
						<li>
							<label for="imageUpload">Bild</label>
							<input type="file" name="imageUpload" id="imageUpload" />
						</li>
						<li>
							<label for="nameInput">Namn<span class="not_needed">(frivilligt)</span></label>
							<input type="text" name="nameInput" id="nameInput" placeholder="Ditt namn" />
						</li>
					</ul>	
				</fieldset>
				<fieldset class="textarea">																			
					<ul>								
						<li>
							<label for="textInput">Text - <span><span id="textInputCount"></span> tecken kvar</span></label>
							<textarea name="textInput" id="textInput" placeholder="Din fråga" required="required"></textarea>
						</li>
					</ul>
				</fieldset>					

				<div class="submit">
					<button type="submit" id="upload_button">Spara</button>
				</div>		

			</form>	
		</div>
		
		<section id="about">
				<h3>Om tjänsten</h3>
				<p>Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Vestibulum tortor quam, feugiat vitae, ultricies eget, tempor sit amet, ante. Donec eu libero sit amet quam egestas semper. Aenean ultricies mi vitae est. Mauris placerat eleifend leo.</p>			
		</section>
	
		<footer class="container_12">
			<div class="grid_12">
				<p>copyright &copy; <a href="mailto:wtf@isthis.net">WTF is this</a> 2011</p>
			</div>
		</footer>
	</div>
</body>
</html>